<nav class="mat-elevation-z4" id="gfx" *ngIf="gfx">

  <mat-form-field>
    <input matInput placeholder="Name" shouldPlaceholderFloat="true" [(ngModel)]="gfx.name">
  </mat-form-field>

  <small *ngIf="gfx.created_at">created: {{gfx.created_at | date:'short'}}</small>

  <div class="flex">
    <button mat-icon-button 
      id="zoomReset" 
      (click)="zoomReset()" 
      matTooltip="Reset Zoom">
      <mat-icon class="mat-24" aria-label="Reset Zoom">youtube_searched_for</mat-icon>
    </button>

    <mat-slider 
      matTooltip="Zoom"
      (input)="zoom($event)"
      [color]="gray"
      min="0.1" 
      max="3" 
      step="0.1"
      [(ngModel)]="zoomVal"></mat-slider>
    
  </div>
  
  <!-- <mat-slide-toggle [color]="gray" [(ngModel)]="showRuler">Show Rulers</mat-slide-toggle> -->

<!--   <button mat-icon-button matTooltip="Upload File">
    <mat-icon class="mat-24">file_upload</mat-icon>
  </button> -->
  <!-- <input #orderDesignFile id="orderDesignFile" type="file" style="display:none;"> -->
  <div class="flex" [matMenuTriggerFor]="plateMenu">
    <button mat-icon-button matTooltip="Template">
      <mat-icon class="mat-24">flip_to_back</mat-icon>
    </button>
    <span *ngIf="gfx.plate; else plateElse">{{gfx.plate.viewValue}}</span>
    <ng-template #plateElse>No Template</ng-template>
  </div>

  <mat-menu #plateMenu="matMenu">

    <mat-option>Clear</mat-option>
    <mat-optgroup *ngFor="let group of plateGroups" [label]="group.name"
                  [disabled]="group.disabled">
      <mat-option *ngFor="let plate of group.plates" (click)="plateChange(plate)">
        {{ plate.viewValue }}
      </mat-option>
    </mat-optgroup>

  </mat-menu>

  <div class="flex">
    <button mat-icon-button 
      matTooltip="File Upload" 
      onclick="document.getElementById('designFile').click();">
      <mat-icon class="upload-label">file_upload</mat-icon>
      <span class="upload-label">Upload Image Files</span>
    </button>
    <input id="designFile" type="file" multiple="multiple" (change)="gfxFileChnaged($event)" (disabled)="uploading" style="display: none;">
  </div>

  <div class="flex">
    <mat-progress-bar mode="indeterminate" [hidden]="!uploading"></mat-progress-bar>
    <span id="quoteDesignUploadFeedback" [hidden]="!gfxError">
      ERROR! Could not upload that file. Please try again or choose a different file. If this form does not work for you please email your graphics to <a href="#">foobar@example.com</a>.
    </span>
  </div>

  <mat-list>
    <mat-list-item *ngFor="let item of attachmentItemsForGfx()">
      <img matListAvatar class="attachment-img" alt="{{item}}" [src]="sanitizer.bypassSecurityTrustUrl(attachmentSrcFor(gfx, item))" />
      <h3 matLine title="{{item}}">{{item}}</h3>
      <p matLine>
        <span> {{dimensionsFor(gfx,item)}} </span>
        <span class="demo-2">  </span>
      </p>
      <button mat-icon-button (click)="deleteAttachmentFor(item);"><mat-icon>delete</mat-icon></button>
    </mat-list-item>
  </mat-list>




  <!-- #todo: add list of canvas layers -->

  <!-- <div id="objectTools" [hidden]="objectToolsHidden">
    <button mat-button class="custom" id="removeImage" on-tap="removeImageFromCanvas" raised>remove image</button>

    <div class="controls">
      <div>
        <label><span>Grayscale:</span> <input type="checkbox" id="grayscale"></label>
        <label><span>Invert:</span> <input type="checkbox" id="invert"></label>
      </div>
      <div>
        <label><span>Sepia:</span> <input type="checkbox" id="sepia"></label>
        <label><span>Sepia2:</span> <input type="checkbox" id="sepia2"></label>
      </div>
      <div>
        <label><span>Remove white:</span> <input type="checkbox" id="remove-white"></label>
        <br>
        <label>Threshold: <input type="range" id="remove-white-threshold" value="60" min="0" max="255"></label>
        <br>
        <label>Distance: <input type="range" id="remove-white-distance" value="10" min="0" max="255"></label>
      </div>
      <div>
        <label><span>Brightness:</span> <input type="checkbox" id="brightness"></label>
        <br>
        <label>Value: <input type="range" id="brightness-value" value="100" min="-255" max="255"></label>
      </div>
      <div>
        <label><span>Contrast:</span> <input type="checkbox" id="contrast"></label>
        <br>
        <label>Value: <input type="range" id="contrast-value" value="0" min="-255" max="255"></label>
      </div>
      <div>
        <label><span>Saturate:</span> <input type="checkbox" id="saturate"></label>
        <br>
        <label>Value: <input type="range" id="saturate-value" value="100" min="-100" max="100"></label>
      </div>
      <div>
        <label><span>Noise:</span> <input type="checkbox" id="noise"></label>
        <br>
        <label>Value: <input type="range" id="noise-value" value="100" min="0" max="1000"></label>
      </div>
      <div>
        <label><span>GradientTransparency:</span> <input type="checkbox" id="gradient-transparency"></label>
        <br>
        <label>Value: <input type="range" id="gradient-transparency-value" value="100" min="0" max="255"></label>
      </div>
      <div>
        <label><span>Pixelate</span> <input type="checkbox" id="pixelate"></label>
        <br>
        <label>Value: <input type="range" id="pixelate-value" value="4" min="2" max="20"></label>
      </div>
      <div>
        <label><span>Blur:</span> <input type="checkbox" id="blur"></label>
        <label><span>Sharpen:</span> <input type="checkbox" id="sharpen"></label>
        <label><span>Emboss:</span> <input type="checkbox" id="emboss"></label>
      </div>
      <div>
        <label><span>Tint:</span> <input type="checkbox" id="tint"></label>
        <input type="color" id="tint-color" value=""><br>
        <label>Opacity: <input type="range" id="tint-opacity" min="0" max="1" value="1" step="0.1"></label><br>
      </div>
      <div>
        <label><span>Multiply:</span> <input type="checkbox" id="multiply"></label>
        <input type="color" id="multiply-color" value="">
      </div>
      <div>
      <label><span>Blend:</span> <input type="checkbox" id="blend"></label>
        <select id="blend-mode" name="blend-mode">
          <option selected="" value="add">Add</option>
          <option value="diff">Diff</option>
          <option value="subtract">Subtract</option>
          <option value="multiply">Multiply</option>
          <option value="screen">Screen</option>
          <option value="lighten">Lighten</option>
          <option value="darken">Darken</option>
        </select>
        <input type="color" id="blend-color" value="#00f900">
      </div>
    </div>
  </div> --> <!-- object-tools -->

</nav>

<canvas id="c"></canvas>
