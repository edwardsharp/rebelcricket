<div id="vendorGoodsContainer">

	<div id="vendorGoodsContent">
		<div *ngFor="let vendorGood of vendorGoods">
			<a name="{{vendorGood.filename}}"></a>
			<md-toolbar color="primary">
			  <span class="truncate" (click)="toggleVendorGoodFile(vendorGood.filename)">{{vendorGood.filename | sliceVendorFilename | titlecase }} ({{vendorGood.items?.length}})</span>
			  <span class="flexfill"></span>
			  <span>
				  
				</span>
			  <span class="flexfill"></span>

			  <i *ngIf="loading">
					loading vendor goods...
				</i>
				<span *ngIf="vendorGoods">
					<md-checkbox *ngIf="selectedVendorGoodFiles.indexOf(vendorGood.filename) != -1" (change)="selectAll(vendorGood.selectAll, vendorGood.items)" [(ngModel)]="vendorGood.selectAll"></md-checkbox>
				</span>
			</md-toolbar>
			<div style="display:flex;">
				<small class="truncate">created: {{vendorGood.filename | sliceVendorFilenameDate | date:'short' }}
				</small>
				<span class="flexfill"></span>
				<small class="truncate" title="Data Filename">{{vendorGood.filename}}</small>
			</div>

			<md-list *ngIf="selectedVendorGoodFiles.indexOf(vendorGood.filename) != -1">
			  <md-list-item *ngFor="let item of vendorGood.items">

			    <h3 mdLine class="truncate" title="{{item.title}}"> {{item.title}} </h3>
			    <p mdLine class="truncate">
			      <span> {{item.category}} -- {{item.sub_item}} </span>
			      <span> ({{item.colors?.length}} Colors) </span>
			    </p>
			    <button type="button" md-icon-button (click)="openDialog(item)">
				    <md-icon>shopping_basket</md-icon>
				  </button>

				  <md-checkbox [checked]="item.selected"></md-checkbox>
			  </md-list-item>
			</md-list>

		</div>
	</div>

	<div id="vendorGoodsIndex">
		<h3 mdLine>Categories ({{vendorGoods.length}})</h3>
		<md-selection-list #vendorGoodsFilenameIndex>
		  <md-list-option *ngFor="let vendorGood of vendorGoods" (click)="toggleVendorGoodFile(vendorGood.filename)" [selected]="selectedVendorGoodFiles.indexOf(vendorGood.filename) != -1">
		    <span class="truncate">{{vendorGood.filename | sliceVendorFilenameCategory | titlecase }} ({{vendorGood.items?.length}})</span>
		  </md-list-option>
		</md-selection-list>

	</div>

</div>
